{"version":3,"sources":["public/js/lib/utils.js","public/js/lib/BackgroundCanvas.js","public/js/lib/HandleProjectsLoad.js","public/js/index.js"],"names":["floor","Math","random","$","document","querySelector","bind","$$","querySelectorAll","randomInt","min","max","console","log","PI","internals","w","h","pointsArray","MAX_POINT_SPEED","MIN_POINT_SPEED","MIN_POINT_RADIO","MAX_POINT_RADIO","COLORS","point","x","sx","y","sy","alpha","alphaFactor","update","Point","index","color","length","r","BackgroundCanvas","config","Object","assign","totalPoints","bgColor","canvas","createElement","ctx","getContext","body","appendChild","_updateDynamics","i","push","that","_bindEvents","_loop","window","addEventListener","width","innerWidth","height","innerHeight","requestAnimationFrame","_draw","beginPath","globalAlpha","rect","fillStyle","fill","closePath","arc","updatePoint","HandleProjectsLoad","links","_demoWrapper","_iframe","_demoCloseButton","_iframeLoader","_iframeLoaderSecLayer","_iframeLoaderMainLayer","_previousFocusedElement","_handleLinkClick","_handleCloseIframe","forEach","l","ev","preventDefault","style","overflow","opacity","display","src","currentTarget","href","classList","add","activeElement","focus","once","remove","b","getComputedStyle","getPropertyValue","run"],"mappings":"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","file":"js.73e1192a.js","sourceRoot":"../src","sourcesContent":["const { floor, random } = Math;\n\nexport const $ = document.querySelector.bind(document);\n\nexport const $$ = document.querySelectorAll.bind(document);\n\nexport const randomInt = (min, max) => {\n    return floor(random() * (max - min + 1)) + min;\n};\n","const { log } = console;\nconst { floor, PI, random } = Math;\n\nimport { randomInt } from './utils';\n\nconst internals = {\n    w: 0,\n    h: 0,\n    pointsArray: [],\n\n    MAX_POINT_SPEED: 0.05,\n    MIN_POINT_SPEED: -0.05,\n    MIN_POINT_RADIO: 0.6,\n    MAX_POINT_RADIO: 1,\n\n    COLORS: [\n        // \"cyan\",\n        // \"tomato\",\n        // \"gold\",\n        'rgba(238, 170, 238, .25)',\n        'rgba(238, 170, 238, .75)',\n        'rgba(153, 255, 235, .25)',\n        'rgba(153, 255, 235, .75)'\n    ]\n};\n\ninternals.updatePoint = function updatePoint(point) {\n    point.x += point.sx;\n    point.y += point.sy;\n    point.alpha += point.alphaFactor;\n\n    if (point.x > internals.w || point.x < 0) {\n        point.sx *= -1;\n    }\n\n    if (point.y > internals.h || point.y < 0) {\n        point.sy *= -1;\n    }\n\n    if (point.alpha > 1 || point.alpha < 0) {\n        point.alphaFactor *= -1;\n    }\n\n    if (point.alpha < 0) {\n        point.update();\n    }\n};\n\n\nclass Point {\n    constructor(index) {\n        this.index = index;\n        this.alpha = random();\n        this.alphaFactor = this.alpha * .1 * .1;\n        this.update();\n    }\n\n    update() {\n        this.x = random() * internals.w;\n        this.y = random() * internals.h;\n        this.color = internals.COLORS[floor(random() * internals.COLORS.length)];\n        this.r = randomInt(internals.MIN_POINT_RADIO, internals.MAX_POINT_RADIO);\n        this.sx = random() < 0.5 ? internals.MIN_POINT_SPEED : internals.MAX_POINT_SPEED;\n        this.sy = random() < 0.5 ? internals.MIN_POINT_SPEED : internals.MAX_POINT_SPEED;\n    }\n}\n\nexport default class BackgroundCanvas {\n    constructor(config) {\n        log('ðŸ–¼');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            totalPoints: 100,\n            bgColor: '#000'\n        }, config);\n\n        that.canvas = document.createElement('canvas');\n        that.ctx = that.canvas.getContext('2d');\n        if (!that.ctx) return;\n\n        document.body.appendChild(that.canvas);\n        that._updateDynamics();\n\n        for (var i = 0; i < that.config.totalPoints; i++) {\n            internals.pointsArray.push(new Point(i));\n        }\n    }\n\n    run() {\n        const that = this;\n\n        that._bindEvents();\n        that._loop();\n\n        return that;\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that._loop = that._loop.bind(that);\n\n        that._updateDynamics = that._updateDynamics.bind(that);\n        window.addEventListener('resize', that._updateDynamics);\n\n        return that;\n    }\n\n    _updateDynamics() {\n        this.canvas.width = internals.w = window.innerWidth;\n        this.canvas.height = internals.h = window.innerHeight;\n    }\n\n    _loop() {\n        window.requestAnimationFrame(this._loop);\n        this._draw();\n    }\n\n    _draw() {\n        const that = this;\n\n        that.ctx.beginPath();\n        that.ctx.globalAlpha = 1;\n        that.ctx.rect(0, 0 , internals.w, internals.h);\n        that.ctx.fillStyle = that.config.bgColor;\n        that.ctx.fill();\n        that.ctx.closePath();\n\n        for (var i = 0; i < internals.pointsArray.length; i += 1) {\n            var point = internals.pointsArray[i];\n\n            that.ctx.beginPath();\n            that.ctx.globalAlpha = point.alpha;\n            that.ctx.fillStyle = point.color;\n            that.ctx.arc(point.x, point.y, point.r, Math.PI * 2, false);\n            that.ctx.fill();\n            that.ctx.closePath();\n\n            internals.updatePoint(point);\n        }\n    }\n}\n","const { log } = console;\n\nimport { $ } from './utils';\n\nexport default class HandleProjectsLoad {\n    constructor(config) {\n        log('ðŸŽ¬');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            links: null\n        }, config);\n\n        if (!that.config.links) return;\n\n        that._demoWrapper = $('.iframe-wrapper');\n        that._iframe = that._demoWrapper.querySelector('iframe');\n        that._demoCloseButton = $('.iframe-wrapper button');\n        that._iframeLoader = $('.iframe-loader');\n        that._iframeLoaderSecLayer = $('.iframe-loader > div:nth-child(1)');\n        that._iframeLoaderMainLayer = $('.iframe-loader > div:nth-child(2)')\n        that._previousFocusedElement;\n    }\n\n    run() {\n        const that = this;\n\n        that._bindEvents();\n\n        return that;\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that._handleLinkClick = that._handleLinkClick.bind(that);\n        that._handleCloseIframe = that._handleCloseIframe.bind(that);\n\n        that.config.links.forEach(l => l.addEventListener('click', that._handleLinkClick));\n        that._demoCloseButton.addEventListener('click', that._handleCloseIframe);\n\n        return that;\n    }\n\n    _handleLinkClick(ev) {\n        const that = this;\n\n        ev.preventDefault();\n\n        document.body.style.overflow = 'hidden';\n\n        that._demoWrapper.style.opacity = 0;\n        that._demoWrapper.style.display = 'block';\n        that._iframe.src = ev.currentTarget.href;\n\n        that._iframeLoader.classList.add('-show');\n        that._previousFocusedElement = document.activeElement;\n        that._demoCloseButton.focus();\n\n        that._iframe.addEventListener('load', () => {\n            that._demoWrapper.style.opacity = 1;\n            that._iframeLoader.classList.add('-hide');\n\n            that._iframeLoaderSecLayer.addEventListener('transitionend', (ev) => {\n                that._demoWrapper.classList.add('-loaded');\n            }, { once: true });\n        }, { once: true });\n    }\n\n    _handleCloseIframe(ev) {\n        const that = this;\n\n        that._iframeLoader.classList.remove('-hide');\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', function(ev) {\n            that._iframeLoader.classList.remove('-show');\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'none';\n            that._demoWrapper.classList.remove('-loaded');\n\n            that._iframeLoaderMainLayer.addEventListener('transitionend', function(ev) {\n                that._iframe.src = '';\n                document.body.style.overflow = '';\n\n                if (that._previousFocusedElement) {\n                    that._previousFocusedElement.focus();\n                }\n            }, { once: true });\n        }, { once: true });\n    }\n}\n","const { log } = console;\n\nimport { $, $$ } from './lib/utils';\nimport BackgroundCanvas from './lib/BackgroundCanvas';\nimport HandleProjectsLoad from './lib/HandleProjectsLoad';\n\nwindow.b = new BackgroundCanvas({\n    totalPoints: 200,\n    bgColor: getComputedStyle(document.body, null).getPropertyValue('background-color')\n}).run();\n\nnew HandleProjectsLoad({\n    links: $$('.demos a:not([target=\"_blank\"]), .oss a:not([target=\"_blank\"])')\n}).run();\n\n"]}