{"version":3,"sources":["public/js/lib/utils.js","public/js/lib/FollowingEye.js","public/js/lib/HandleProjectsLoad.js","public/js/index.js"],"names":["floor","Math","random","$","document","querySelector","bind","$$","querySelectorAll","randomInt","min","max","getScrollbarWidth","e","scrollbarWidth","createElement","style","position","top","width","height","overflow","msOverflowStyle","body","appendChild","offsetWidth","clientWidth","removeChild","debounce","fn","time","timeout","clearTimeout","setTimeout","apply","arguments","console","log","atan2","PI","FollowingEye","config","Object","assign","el","svg","eye","mouse","createSVGPoint","centerX","centerY","_updateDynamics","_bindEvents","that","_handleMouseMove","addEventListener","_handleWindowResize","window","getBBox","x","y","ev","clientX","clientY","point","matrixTransform","getScreenCTM","inverse","dx","dy","angle","transform","HandleProjectsLoad","links","events","eyes","_isActive","_demoWrapper","_iframe","_demoCloseButton","_iframeLoader","_iframeLoaderSecLayer","_iframeLoaderMainLayer","_iframeLoadingText","_iframeLoadingTextTitle","_iframeLoadingTextDescription","_previousFocusedElement","projectShow","CustomEvent","projectHide","forEach","link","svgEye","push","parentElement","_handleLinkClick","_handleCloseIframe","_handleKeyUp","l","preventDefault","target","currentTarget","iframeUrl","href","projectName","dataset","title","projectDescription","description","element","dispatchEvent","activeElement","innerHTML","classList","add","focus","opacity","display","src","once","event","keyCode","remove","internals","pageTopWave","projectsHandler","run","lastKnownScrollPosition","onScrollTicking","scrollHandler","scrollY","requestAnimationFrame","handleScrollUpdate","scrollPos","documentElement","setProperty"],"mappings":"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","file":"js.723a7e37.js","sourceRoot":"../src","sourcesContent":["const { floor, random } = Math;\n\nexport const $ = document.querySelector.bind(document);\n\nexport const $$ = document.querySelectorAll.bind(document);\n\nexport const randomInt = (min, max) => floor(random() * (max - min + 1)) + min;\n\n/* Copyright (c) 2011 David Walsh\n * http://davidwalsh.name/detect-scrollbar-width\n */\nexport const getScrollbarWidth = () => {\n    const e = document.createElement('div');\n    let scrollbarWidth = 0;\n\n    e.style.position = 'absolute';\n    e.style.top = '-9999px';\n    e.style.width = '100px';\n    e.style.height = '100px';\n    e.style.overflow = 'scroll';\n    e.style.msOverflowStyle = 'scrollbar';\n    document.body.appendChild(e);\n    scrollbarWidth = (e.offsetWidth - e.clientWidth);\n    document.body.removeChild(e);\n\n    return scrollbarWidth;\n}\n\n/**\n * Limit the amount of times a function is called.\n * @see https://medium.com/@TCAS3/debounce-deep-dive-javascript-es6-e6f8d983b7a1\n */\nexport const debounce = (fn, time) => {\n    let timeout = null;\n\n    return function debounceFn() {\n        const functionCall = () => fn.apply(this, arguments);\n\n        clearTimeout(timeout);\n        timeout = setTimeout(functionCall, time);\n    }\n}\n","const { log } = console;\nconst { atan2, PI } = Math;\n\nimport { debounce } from './utils';\n\n/**\n * Man logic taken from Blake Bowen‚Äôs pen\n * https://codepen.io/osublake/pen/jzNgqY\n */\nexport default class FollowingEye {\n    constructor(config) {\n        log('üëÅ');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            el: null,\n            svg: null,\n            eye: null\n        }, config);\n\n        that.mouse = that.config.svg.createSVGPoint();\n        that.centerX = null;\n        that.centerY = null;\n\n        that._updateDynamics()._bindEvents();\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that._handleMouseMove = that._handleMouseMove.bind(that);\n        that.config.el.addEventListener('mousemove', that._handleMouseMove);\n\n        that._handleWindowResize = that._handleWindowResize.bind(that);\n        window.addEventListener('resize', debounce(that._handleWindowResize, 500));\n        return that;\n    }\n\n    _updateDynamics() {\n        const that = this;\n        const { width, x, y } = that.config.eye.getBBox();\n\n        that.centerX = x + (width / 2);\n        that.centerY = y + (width / 2);\n\n        return that;\n    }\n\n    _handleMouseMove(ev) {\n        const that = this;\n\n        that.mouse.x = ev.clientX;\n        that.mouse.y = ev.clientY;\n\n        const point = that.mouse.matrixTransform(that.config.svg.getScreenCTM().inverse());\n        const dx = point.x - that.centerX;\n        const dy = point.y - that.centerY;\n        const theta = atan2(dy, dx);\n        const angle = (theta * 180 / PI) + 360;\n\n        that.config.eye.style.transform = `rotate(${angle}deg)`;\n    }\n\n    _handleWindowResize() {\n        this._updateDynamics();\n    }\n}\n","const { log } = console;\n\nimport FollowingEye from './FollowingEye';\nimport { $ } from './utils';\n\nexport default class HandleProjectsLoad {\n    constructor(config) {\n        log('üé¨');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            el: document.createElement('div'),\n            links: null\n        }, config);\n\n        if (!that.config.links) return;\n\n        that.events = {};\n        that.eyes = [];\n        that._isActive = false;\n        that._demoWrapper = $('.iframe-wrapper');\n        that._iframe = that._demoWrapper.querySelector('iframe');\n        that._demoCloseButton = $('.iframe-close-button');\n        that._iframeLoader = $('.iframe-loader');\n        that._iframeLoaderSecLayer = $('.iframe-loader > div:nth-child(1)');\n        that._iframeLoaderMainLayer = $('.iframe-loader > div:nth-child(2)');\n        that._iframeLoadingText = $('.iframe-loading-text');\n        that._iframeLoadingTextTitle = $('.iframe-loading-text .title');\n        that._iframeLoadingTextDescription = $('.iframe-loading-text .description');\n        that._previousFocusedElement = null;\n    }\n\n    get element() {\n        return this.config.el;\n    }\n\n    run() {\n        const that = this;\n\n        that._bindEvents();\n\n        return that;\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that.events.projectShow = new CustomEvent('projectShow');\n        that.events.projectHide = new CustomEvent('projectHide');\n\n        that.config.links.forEach(link => {\n            let svgEye = link.querySelector('svg > g.eye');\n\n            if (!svgEye) return;\n\n            that.eyes.push(new FollowingEye({\n                el: link,\n                svg: svgEye.parentElement,\n                eye: svgEye\n            }));\n        });\n\n        that._handleLinkClick = that._handleLinkClick.bind(that);\n        that._handleCloseIframe = that._handleCloseIframe.bind(that);\n        that._handleKeyUp = that._handleKeyUp.bind(that);\n\n        that.config.links.forEach(l => l.addEventListener('click', that._handleLinkClick));\n        that._demoCloseButton.addEventListener('click', that._handleCloseIframe);\n        document.addEventListener('keyup', that._handleKeyUp);\n\n        return that;\n    }\n\n    _handleLinkClick(ev) {\n        ev.preventDefault();\n\n        const that = this;\n        const target = ev.currentTarget;\n        const iframeUrl = target.href;\n        const projectName = target.dataset.title;\n        const projectDescription = target.dataset.description;\n\n        that.element.dispatchEvent(that.events.projectShow);\n        that._previousFocusedElement = document.activeElement;\n        that._iframeLoadingTextTitle.innerHTML = projectName;\n        that._iframeLoadingTextDescription.innerHTML = projectDescription;\n        that._iframeLoader.classList.add('-show');\n\n        that._demoCloseButton.focus();\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n            that._iframeLoadingText.style.opacity = 1;\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'block';\n            that._iframe.src = iframeUrl;\n\n            that._iframe.addEventListener('load', () => {\n                that._isActive = true;\n\n                that._iframeLoadingText.style.opacity = 0;\n                that._iframeLoader.classList.add('-hide');\n                that._demoWrapper.style.opacity = 1;\n\n                that._iframeLoaderSecLayer.addEventListener('transitionend', () => {\n                    that._demoWrapper.classList.add('-loaded');\n                }, { once: true });\n            }, { once: true });\n        }, { once: true });\n    }\n\n    _handleKeyUp(ev) {\n        const that = this;\n\n        ev = (ev || window.event);\n\n        if (that._isActive === false) {\n            return;\n        }\n\n        if (ev.keyCode == 27) {\n            that._handleCloseIframe();\n        }\n    }\n\n    _handleCloseIframe() {\n        const that = this;\n\n        that._isActive = false;\n        that._iframeLoader.classList.remove('-hide');\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n            that._iframeLoader.classList.remove('-show');\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'none';\n            that._demoWrapper.classList.remove('-loaded');\n\n            that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n                that._iframe.src = '';\n                that.element.dispatchEvent(that.events.projectHide);\n\n                if (that._previousFocusedElement) {\n                    that._previousFocusedElement.focus();\n                }\n            }, { once: true });\n        }, { once: true });\n    }\n}\n","import { $, $$, getScrollbarWidth } from './lib/utils';\n// import BackgroundCanvas from './lib/BackgroundCanvas';\nimport HandleProjectsLoad from './lib/HandleProjectsLoad';\n\nconst internals = {};\n\ninternals.body = document.body;\ninternals.pageTopWave = $('.page-top-wave');\n\n// internals.backgroundCanvas = new BackgroundCanvas({\n//     totalPoints: 200,\n//     bgColor: getComputedStyle(document.body, null).getPropertyValue('background-color')\n// }).run();\n\ninternals.projectsHandler = new HandleProjectsLoad({\n    links: $$('.demos a:not([target=\"_blank\"]), .oss a:not([target=\"_blank\"])')\n}).run();\n\ninternals.lastKnownScrollPosition = 0;\ninternals.onScrollTicking = false;\ninternals.scrollHandler = () => {\n    internals.lastKnownScrollPosition = window.scrollY;\n\n    if (!internals.onScrollTicking) {\n        window.requestAnimationFrame(() => {\n            internals.handleScrollUpdate(internals.lastKnownScrollPosition);\n            internals.onScrollTicking = false;\n        });\n\n        internals.onScrollTicking = true;\n    }\n};\ninternals.handleScrollUpdate = (scrollPos) => {\n    if (scrollPos > 20) {\n        internals.pageTopWave.classList.add('-pause');\n    }\n    else {\n        internals.pageTopWave.classList.remove('-pause');\n    }\n};\n\ninternals.projectsHandler.element.addEventListener('projectShow', () => {\n    internals.body.classList.add('-prevent-scrolling');\n    internals.pageTopWave.classList.add('-pause');\n    // internals.backgroundCanvas.pause();\n});\n\ninternals.projectsHandler.element.addEventListener('projectHide', () => {\n    internals.body.classList.remove('-prevent-scrolling');\n    internals.pageTopWave.classList.remove('-pause');\n    // internals.backgroundCanvas.restart();\n});\n\nwindow.addEventListener('scroll', internals.scrollHandler);\n\ndocument.documentElement.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`);\n"]}