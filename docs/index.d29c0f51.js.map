{"mappings":"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","sources":["src/public/js/lib/utils.js","src/public/js/lib/FollowingEye.js","src/public/js/lib/HandleProjectsLoad.js","src/public/js/index.js"],"sourcesContent":["const { floor, random } = Math;\n\nexport const $ = document.querySelector.bind(document);\n\nexport const $$ = document.querySelectorAll.bind(document);\n\nexport const randomInt = (min, max) => floor(random() * (max - min + 1)) + min;\n\n/* Copyright (c) 2011 David Walsh\n * http://davidwalsh.name/detect-scrollbar-width\n */\nexport const getScrollbarWidth = () => {\n    const e = document.createElement('div');\n    let scrollbarWidth = 0;\n\n    e.style.position = 'absolute';\n    e.style.top = '-9999px';\n    e.style.width = '100px';\n    e.style.height = '100px';\n    e.style.overflow = 'scroll';\n    e.style.msOverflowStyle = 'scrollbar';\n    document.body.appendChild(e);\n    scrollbarWidth = (e.offsetWidth - e.clientWidth);\n    document.body.removeChild(e);\n\n    return scrollbarWidth;\n}\n\n/**\n * Limit the amount of times a function is called.\n * @see https://medium.com/@TCAS3/debounce-deep-dive-javascript-es6-e6f8d983b7a1\n */\nexport const debounce = (fn, time) => {\n    let timeout = null;\n\n    return function debounceFn() {\n        const functionCall = () => fn.apply(this, arguments);\n\n        clearTimeout(timeout);\n        timeout = setTimeout(functionCall, time);\n    }\n}\n","const { log } = console;\nconst { atan2, PI } = Math;\n\nimport { debounce } from './utils';\n\n/**\n * Man logic taken from Blake Bowenâ€™s pen\n * https://codepen.io/osublake/pen/jzNgqY\n */\nexport default class FollowingEye {\n    constructor(config) {\n        log('ðŸ‘');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            el: null,\n            svg: null,\n            eye: null\n        }, config);\n\n        that.mouse = that.config.svg.createSVGPoint();\n        that.centerX = null;\n        that.centerY = null;\n\n        that._updateDynamics()._bindEvents();\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that._handleMouseMove = that._handleMouseMove.bind(that);\n        that.config.el.addEventListener('mousemove', that._handleMouseMove);\n\n        that._handleWindowResize = that._handleWindowResize.bind(that);\n        window.addEventListener('resize', debounce(that._handleWindowResize, 500));\n        return that;\n    }\n\n    _updateDynamics() {\n        const that = this;\n        const { width, x, y } = that.config.eye.getBBox();\n\n        that.centerX = x + (width / 2);\n        that.centerY = y + (width / 2);\n\n        return that;\n    }\n\n    _handleMouseMove(ev) {\n        const that = this;\n\n        that.mouse.x = ev.clientX;\n        that.mouse.y = ev.clientY;\n\n        const point = that.mouse.matrixTransform(that.config.svg.getScreenCTM().inverse());\n        const dx = point.x - that.centerX;\n        const dy = point.y - that.centerY;\n        const theta = atan2(dy, dx);\n        const angle = (theta * 180 / PI) + 360;\n\n        that.config.eye.style.transform = `rotate(${angle}deg)`;\n    }\n\n    _handleWindowResize() {\n        this._updateDynamics();\n    }\n}\n","const { log } = console;\n\nimport FollowingEye from './FollowingEye';\nimport { $ } from './utils';\n\nexport default class HandleProjectsLoad {\n    constructor(config) {\n        log('ðŸŽ¬');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            el: document.createElement('div'),\n            links: null\n        }, config);\n\n        if (!that.config.links) return;\n\n        that.events = {};\n        that.eyes = [];\n        that._isActive = false;\n        that._demoWrapper = $('.iframe-wrapper');\n        that._iframe = that._demoWrapper.querySelector('iframe');\n        that._demoCloseButton = $('.iframe-close-button');\n        that._iframeLoader = $('.iframe-loader');\n        that._iframeLoaderSecLayer = $('.iframe-loader > div:nth-child(1)');\n        that._iframeLoaderMainLayer = $('.iframe-loader > div:nth-child(2)');\n        that._iframeLoadingText = $('.iframe-loading-text');\n        that._iframeLoadingTextTitle = $('.iframe-loading-text .title');\n        that._iframeLoadingTextDescription = $('.iframe-loading-text .description');\n        that._previousFocusedElement = null;\n    }\n\n    get element() {\n        return this.config.el;\n    }\n\n    run() {\n        const that = this;\n\n        that._bindEvents();\n\n        return that;\n    }\n\n    loaded() {\n        this._iframeLoader.classList.add('-ready');\n\n        return this;\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that.events.projectShow = new CustomEvent('projectShow');\n        that.events.projectHide = new CustomEvent('projectHide');\n\n        that.config.links.forEach(link => {\n            let svgEye = link.querySelector('svg > g.eye');\n\n            if (!svgEye) return;\n\n            that.eyes.push(new FollowingEye({\n                el: link,\n                svg: svgEye.parentElement,\n                eye: svgEye\n            }));\n        });\n\n        that._handleLinkClick = that._handleLinkClick.bind(that);\n        that._handleCloseIframe = that._handleCloseIframe.bind(that);\n        that._handleKeyUp = that._handleKeyUp.bind(that);\n\n        that.config.links.forEach(l => l.addEventListener('click', that._handleLinkClick));\n        that._demoCloseButton.addEventListener('click', that._handleCloseIframe);\n        document.addEventListener('keyup', that._handleKeyUp);\n\n        return that;\n    }\n\n    _handleLinkClick(ev) {\n        ev.preventDefault();\n\n        const that = this;\n        const target = ev.currentTarget;\n        const iframeUrl = target.href;\n        const projectName = target.dataset.title;\n        const projectDescription = target.dataset.description;\n\n        that.element.dispatchEvent(that.events.projectShow);\n        that._previousFocusedElement = document.activeElement;\n        that._iframeLoadingTextTitle.innerHTML = projectName;\n        that._iframeLoadingTextDescription.innerHTML = projectDescription;\n        that._iframeLoader.classList.add('-show');\n\n        that._demoCloseButton.focus();\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n            that._iframeLoadingText.style.opacity = 1;\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'block';\n            that._iframe.src = iframeUrl;\n\n            that._iframe.addEventListener('load', () => {\n                that._isActive = true;\n\n                that._iframeLoadingText.style.opacity = 0;\n                that._iframeLoader.classList.add('-hide');\n                that._demoWrapper.style.opacity = 1;\n\n                that._iframeLoaderSecLayer.addEventListener('transitionend', () => {\n                    that._demoWrapper.classList.add('-loaded');\n                }, { once: true });\n            }, { once: true });\n        }, { once: true });\n    }\n\n    _handleKeyUp(ev) {\n        const that = this;\n\n        ev = (ev || window.event);\n\n        if (that._isActive === false) {\n            return;\n        }\n\n        if (ev.keyCode == 27) {\n            that._handleCloseIframe();\n        }\n    }\n\n    _handleCloseIframe() {\n        const that = this;\n\n        that._isActive = false;\n        that._iframeLoader.classList.remove('-hide');\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n            that._iframeLoader.classList.remove('-show');\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'none';\n            that._demoWrapper.classList.remove('-loaded');\n\n            that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n                that._iframe.src = '';\n                that.element.dispatchEvent(that.events.projectHide);\n\n                if (that._previousFocusedElement) {\n                    that._previousFocusedElement.focus();\n                }\n            }, { once: true });\n        }, { once: true });\n    }\n}\n","import { $, $$, getScrollbarWidth } from './lib/utils';\n// import BackgroundCanvas from './lib/BackgroundCanvas';\nimport HandleProjectsLoad from './lib/HandleProjectsLoad';\n\nconst internals = {};\n\ninternals.body = document.body;\ninternals.pageTopWave = $('.page-top-wave');\n\n// internals.backgroundCanvas = new BackgroundCanvas({\n//     totalPoints: 200,\n//     bgColor: getComputedStyle(document.body, null).getPropertyValue('background-color')\n// }).run();\n\ninternals.projectsHandler = new HandleProjectsLoad({\n    links: $$('.demos a:not([target=\"_blank\"]), .oss a:not([target=\"_blank\"])')\n}).run();\n\ninternals.lastKnownScrollPosition = 0;\ninternals.onScrollTicking = false;\ninternals.scrollHandler = () => {\n    internals.lastKnownScrollPosition = window.scrollY;\n\n    if (!internals.onScrollTicking) {\n        window.requestAnimationFrame(() => {\n            internals.handleScrollUpdate(internals.lastKnownScrollPosition);\n            internals.onScrollTicking = false;\n        });\n\n        internals.onScrollTicking = true;\n    }\n};\ninternals.handleScrollUpdate = (scrollPos) => {\n    if (scrollPos > 20) {\n        internals.pageTopWave.classList.add('-pause');\n    }\n    else {\n        internals.pageTopWave.classList.remove('-pause');\n    }\n};\n\ninternals.loadHandler = () => {\n    internals.projectsHandler.loaded();\n};\n\ninternals.projectsHandler.element.addEventListener('projectShow', () => {\n    internals.body.classList.add('-prevent-scrolling');\n    internals.pageTopWave.classList.add('-pause');\n    // internals.backgroundCanvas.pause();\n});\n\ninternals.projectsHandler.element.addEventListener('projectHide', () => {\n    internals.body.classList.remove('-prevent-scrolling');\n    internals.pageTopWave.classList.remove('-pause');\n    // internals.backgroundCanvas.restart();\n});\n\nwindow.addEventListener('scroll', internals.scrollHandler);\nwindow.addEventListener('load', internals.loadHandler);\n\ndocument.documentElement.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`);\n"],"names":["floor","$6f2f38507b065d6f$var$floor","random","$6f2f38507b065d6f$var$random","Math","$6f2f38507b065d6f$export$3d8c2f653ac9d0b9","document","querySelector","bind","$6f2f38507b065d6f$export$fe324b23443c13e2","querySelectorAll","$6f2f38507b065d6f$export$61fc7d43ac8f84b0","fn","time","timeout","functionCall","apply","this","arguments","clearTimeout","setTimeout","log","$372fac47f8b94046$var$log","console","atan2","$372fac47f8b94046$var$atan2","PI","$372fac47f8b94046$var$PI","$372fac47f8b94046$export$2e2bcd8739ae039","constructor","config","that","Object","assign","el","svg","eye","mouse","createSVGPoint","centerX","centerY","_updateDynamics","_bindEvents","_handleMouseMove","addEventListener","_handleWindowResize","window","width","x","y","getBBox","ev","clientX","clientY","point","matrixTransform","getScreenCTM","inverse","dx","dy","angle","style","transform","$895e4461594157d4$var$log","$1742b3cbfa2ef3db$var$internals","body","pageTopWave","projectsHandler","createElement","links","events","eyes","_isActive","_demoWrapper","_iframe","_demoCloseButton","_iframeLoader","_iframeLoaderSecLayer","_iframeLoaderMainLayer","_iframeLoadingText","_iframeLoadingTextTitle","_iframeLoadingTextDescription","_previousFocusedElement","element","run","loaded","classList","add","projectShow","CustomEvent","projectHide","forEach","link","svgEye","push","parentElement","_handleLinkClick","_handleCloseIframe","_handleKeyUp","l","preventDefault","target","currentTarget","iframeUrl","href","projectName","dataset","title","projectDescription","description","dispatchEvent","activeElement","innerHTML","focus","opacity","display","src","once","event","keyCode","remove","lastKnownScrollPosition","onScrollTicking","scrollHandler","scrollY","requestAnimationFrame","handleScrollUpdate","scrollPos","loadHandler","documentElement","setProperty","e","scrollbarWidth","position","top","height","overflow","msOverflowStyle","appendChild","offsetWidth","clientWidth","removeChild"],"version":3,"file":"index.d29c0f51.js.map"}