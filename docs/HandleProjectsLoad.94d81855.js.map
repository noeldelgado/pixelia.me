{"mappings":"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","sources":["src/public/js/lib/HandleProjectsLoad.js","src/public/js/lib/FollowingEye/index.js"],"sourcesContent":["import { $, createElementFromString } from './utils';\nimport FollowingEye from './FollowingEye';\n\nconst internals = {\n  eye: new FollowingEye().render($('[data-bind-eye=\"true\"]')).update(),\n};\n\nexport default class HandleProjectsLoad {\n  #iframeWrapperTemplate = `\n    <div class=\"iframe-wrapper\">\n      <iframe\n        src=\"about:blank\"\n        title=\"Noel’s demos on Codepen\"\n        frameborder=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        style=\"overflow:hidden;height:100%;width:100%\"\n      />\n    </div>\n  `;\n\n  #closeIframeButtonTemplate = `\n    <button\n      class=\"iframe-close-button\"\n      type=\"button\"\n      aria-label=\"Close project detail\"\n    >\n      <svg\n        width=\"40\"\n        height=\"40\"\n        aria-hidden=\"true\"\n      >\n        <use xlink:href=\"#svg-close-24px\"></use>\n      </svg>\n    </button>\n  `;\n\n  #iframeLoaderTemplate = `\n    <div class=\"iframe-loader\">\n      <div class=\"iframe-loader__layer --waves\">\n        <svg class=\"loader-wave-top\">\n          <use xlink:href=\"#svg-loader-wave-top\"></use>\n        </svg>\n        <svg class=\"loader-wave-bottom\">\n          <use xlink:href=\"#svg-loader-wave-bottom\"></use>\n        </svg>\n      </div>\n      <div class=\"iframe-loader__layer --info\">\n        <svg class=\"loader-wave-top\">\n          <use xlink:href=\"#svg-loader-wave-top\"></use>\n        </svg>\n        <svg class=\"loader-wave-bottom\">\n          <use xlink:href=\"#svg-loader-wave-bottom\"></use>\n        </svg>\n        <div class=\"iframe-loading-text\">\n          <p class=\"mb05 loading\">Loading</p>\n          <span class=\"title\"></span>\n          <br/>\n          <span class=\"description\"></span>\n        </div>\n      </div>\n    </div>\n  `;\n\n  constructor(config) {\n    this.config = {\n      el: document.createElement('div'),\n      links: null,\n      ...config,\n    };\n\n    if (!this.config.links) return;\n\n    this.events = {};\n    this._isActive = false;\n    this._demoWrapper = createElementFromString(this.#iframeWrapperTemplate);\n    this._iframe = this._demoWrapper.querySelector('iframe');\n    this._demoCloseButton = createElementFromString(this.#closeIframeButtonTemplate);\n    this._iframeLoader = createElementFromString(this.#iframeLoaderTemplate);\n    this._iframeLoaderSecLayer = this._iframeLoader.querySelector('div:nth-child(1)');\n    this._iframeLoaderMainLayer = this._iframeLoader.querySelector('div:nth-child(2)');\n    this._iframeLoadingText = this._iframeLoader.querySelector('.iframe-loading-text');\n    this._iframeLoadingTextTitle = this._iframeLoadingText.querySelector('.title');\n    this._iframeLoadingTextDescription = this._iframeLoadingText.querySelector('.description');\n    this._previousFocusedElement = null;\n\n    document.body.append(this._demoWrapper, this._demoCloseButton, this._iframeLoader);\n  }\n\n  get element() {\n    return this.config.el;\n  }\n\n  run() {\n    const that = this;\n\n    that._bindEvents();\n    that._iframeLoader.classList.add('-ready');\n\n    return that;\n  }\n\n  _bindEvents() {\n    const that = this;\n\n    that.events.projectShow = new CustomEvent('projectShow');\n    that.events.projectHide = new CustomEvent('projectHide');\n\n    that._handleLinkClick = that._handleLinkClick.bind(that);\n    that._handleCloseIframe = that._handleCloseIframe.bind(that);\n    that._handleKeyUp = that._handleKeyUp.bind(that);\n\n    that.config.links.forEach(l => {\n      l.addEventListener('click', that._handleLinkClick);\n\n      if (l.dataset.bindEye === 'true') {\n        l.addEventListener('mouseenter', (ev) => {\n          internals.eye.render(ev.currentTarget);\n        });\n      }\n    });\n    that._demoCloseButton.addEventListener('click', that._handleCloseIframe);\n    document.addEventListener('keyup', that._handleKeyUp);\n\n    return that;\n  }\n\n  _handleLinkClick(ev) {\n    ev.preventDefault();\n\n    const that = this;\n    const target = ev.currentTarget;\n    const iframeUrl = target.href;\n    const projectName = target.dataset.title;\n    const projectDescription = target.dataset.description;\n\n    that.element.dispatchEvent(that.events.projectShow);\n    that._previousFocusedElement = document.activeElement;\n    that._iframeLoadingTextTitle.innerHTML = projectName;\n    that._iframeLoadingTextDescription.innerHTML = projectDescription;\n    that._iframeLoader.classList.add('-show');\n\n    that._demoCloseButton.focus();\n\n    that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n      that._iframeLoadingText.style.opacity = 1;\n\n      that._demoWrapper.style.opacity = 0;\n      that._demoWrapper.style.display = 'block';\n      that._iframe.src = iframeUrl;\n\n      that._iframe.addEventListener('load', () => {\n        that._isActive = true;\n\n        that._iframeLoadingText.style.opacity = 0;\n        that._iframeLoader.classList.add('-hide');\n        that._demoWrapper.style.opacity = 1;\n\n        that._iframeLoaderSecLayer.addEventListener('transitionend', () => {\n          that._demoWrapper.classList.add('-loaded');\n        }, { once: true });\n      }, { once: true });\n    }, { once: true });\n  }\n\n  _handleKeyUp(ev) {\n    const that = this;\n\n    if (that._isActive === false) {\n      return;\n    }\n\n    if (ev.keyCode === 27) {\n      that._handleCloseIframe();\n    }\n  }\n\n  _handleCloseIframe() {\n    const that = this;\n\n    that._isActive = false;\n    that._iframeLoader.classList.remove('-hide');\n\n    that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n      that._iframeLoader.classList.remove('-show');\n\n      that._demoWrapper.style.opacity = 0;\n      that._demoWrapper.style.display = 'none';\n      that._demoWrapper.classList.remove('-loaded');\n\n      that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n        that._iframe.src = '';\n        that.element.dispatchEvent(that.events.projectHide);\n\n        if (that._previousFocusedElement) {\n          that._previousFocusedElement.focus();\n        }\n      }, { once: true });\n    }, { once: true });\n  }\n}\n","import { createElementFromString, debounce } from '../utils';\nimport './style.css';\n\n/**\n * Main logic taken from Blake Bowen’s pen\n * https://codepen.io/osublake/pen/jzNgqY\n */\nexport default class FollowingEye {\n  #template = `\n    <svg class=\"FollowingEye\" viewBox=\"0 0 100 100\" width=\"100%\" height=\"100%\">\n      <g class=\"FollowingEye-group\">\n        <circle class=\"FollowingEye-outline\" stroke-width=\"6\" cx=\"50\" cy=\"50\" r=\"46\"/>\n        <circle class=\"FollowingEye-inner\" cx=\"76\" cy=\"50\" r=\"20\"/>\n      </g>\n    </svg>\n  `;\n\n  #centerX = null;\n\n  #centerY = null;\n\n  #point = null\n\n  #eye = null\n\n  constructor() {\n    this.element = createElementFromString(this.#template);\n    this.#point = this.element.createSVGPoint();\n    this.#eye = this.element.querySelector('.FollowingEye-group');\n\n    this.#bindEvents();\n  }\n\n  render(element, position = 'beforeend') {\n    element.insertAdjacentElement(position, this.element);\n\n    return this;\n  }\n\n  update() {\n    const { width, x, y } = this.#eye.getBBox();\n\n    this.#centerX = x + (width / 2);\n    this.#centerY = y + (width / 2);\n\n    return this;\n  }\n\n  mouseMoveHandler(ev) {\n    this.#update(this.#getCoordinates(ev));\n  }\n\n  resizeWindowHandler() {\n    this.update();\n  }\n\n  #update({ x, y }) {\n    const theta = Math.atan2(y - this.#centerY, x - this.#centerX);\n    const angle = (theta * 180 / Math.PI) + 360;\n\n    this.#eye.style.transform = `rotate(${angle}deg)`;\n  }\n\n  #getCoordinates(ev) {\n    this.#point.x = ev.clientX;\n    this.#point.y = ev.clientY;\n\n    return this.#point.matrixTransform(this.element.getScreenCTM().inverse());\n  }\n\n  #bindEvents() {\n    this.mouseMoveHandler = this.mouseMoveHandler.bind(this);\n    this.resizeWindowHandler = this.resizeWindowHandler.bind(this);\n\n    window.addEventListener('mousemove', this.mouseMoveHandler);\n    window.addEventListener('resize', debounce(this.resizeWindowHandler, 500));\n\n    return this;\n  }\n}\n"],"names":["$9xPB6","parcelRequire","$895e4461594157d4$var$internals","eye","default","render","$","update","$895e4461594157d4$export$2e2bcd8739ae039","iframeWrapperTemplate","closeIframeButtonTemplate","iframeLoaderTemplate","constructor","config","this","el","document","createElement","links","events","_isActive","_demoWrapper","createElementFromString","_iframe","querySelector","_demoCloseButton","_iframeLoader","_iframeLoaderSecLayer","_iframeLoaderMainLayer","_iframeLoadingText","_iframeLoadingTextTitle","_iframeLoadingTextDescription","_previousFocusedElement","body","append","element","run","that","_bindEvents","classList","add","projectShow","CustomEvent","projectHide","_handleLinkClick","bind","_handleCloseIframe","_handleKeyUp","forEach","l","addEventListener","dataset","bindEye","ev","currentTarget","preventDefault","target","iframeUrl","href","projectName","title","projectDescription","description","dispatchEvent","activeElement","innerHTML","focus","style","opacity","display","src","once","keyCode","remove","$b8f7da3406808d0c$export$2e2bcd8739ae039","template","centerX","centerY","point","createSVGPoint","bindEvents","position","insertAdjacentElement","width","x","y","getBBox","mouseMoveHandler","getCoordinates","resizeWindowHandler","angle","Math","atan2","PI","transform","clientX","clientY","matrixTransform","getScreenCTM","inverse","window","debounce"],"version":3,"file":"HandleProjectsLoad.94d81855.js.map"}