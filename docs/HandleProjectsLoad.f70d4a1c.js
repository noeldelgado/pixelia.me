function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94c2;t.register("bNcT3",(function(n,i){e(n.exports,"default",(()=>d));var r=t("fSA2j"),a=t("9xPB6");const{log:o}=console,s={eye:(new(0,r.default)).render((0,a.$)('[data-bind-eye="true"]')).update()};class d{constructor(e){o("ðŸŽ¬");const t=this;Object.assign(t.config={},{el:document.createElement("div"),links:null},e),t.config.links&&(t.events={},t._isActive=!1,t._demoWrapper=(0,a.$)(".iframe-wrapper"),t._iframe=t._demoWrapper.querySelector("iframe"),t._demoCloseButton=(0,a.$)(".iframe-close-button"),t._iframeLoader=(0,a.$)(".iframe-loader"),t._iframeLoaderSecLayer=(0,a.$)(".iframe-loader > div:nth-child(1)"),t._iframeLoaderMainLayer=(0,a.$)(".iframe-loader > div:nth-child(2)"),t._iframeLoadingText=(0,a.$)(".iframe-loading-text"),t._iframeLoadingTextTitle=(0,a.$)(".iframe-loading-text .title"),t._iframeLoadingTextDescription=(0,a.$)(".iframe-loading-text .description"),t._previousFocusedElement=null)}get element(){return this.config.el}run(){const e=this;return e._bindEvents(),e._iframeLoader.classList.add("-ready"),e}_bindEvents(){const e=this;return e.events.projectShow=new CustomEvent("projectShow"),e.events.projectHide=new CustomEvent("projectHide"),e._handleLinkClick=e._handleLinkClick.bind(e),e._handleCloseIframe=e._handleCloseIframe.bind(e),e._handleKeyUp=e._handleKeyUp.bind(e),e.config.links.forEach((t=>{t.addEventListener("click",e._handleLinkClick),"true"===t.dataset.bindEye&&t.addEventListener("mouseenter",(e=>{s.eye.render(e.currentTarget)}))})),e._demoCloseButton.addEventListener("click",e._handleCloseIframe),document.addEventListener("keyup",e._handleKeyUp),e}_handleLinkClick(e){e.preventDefault();const t=this,n=e.currentTarget,i=n.href,r=n.dataset.title,a=n.dataset.description;t.element.dispatchEvent(t.events.projectShow),t._previousFocusedElement=document.activeElement,t._iframeLoadingTextTitle.innerHTML=r,t._iframeLoadingTextDescription.innerHTML=a,t._iframeLoader.classList.add("-show"),t._demoCloseButton.focus(),t._iframeLoaderMainLayer.addEventListener("transitionend",(()=>{t._iframeLoadingText.style.opacity=1,t._demoWrapper.style.opacity=0,t._demoWrapper.style.display="block",t._iframe.src=i,t._iframe.addEventListener("load",(()=>{t._isActive=!0,t._iframeLoadingText.style.opacity=0,t._iframeLoader.classList.add("-hide"),t._demoWrapper.style.opacity=1,t._iframeLoaderSecLayer.addEventListener("transitionend",(()=>{t._demoWrapper.classList.add("-loaded")}),{once:!0})}),{once:!0})}),{once:!0})}_handleKeyUp(e){e=e||window.event,!1!==this._isActive&&27==e.keyCode&&this._handleCloseIframe()}_handleCloseIframe(){const e=this;e._isActive=!1,e._iframeLoader.classList.remove("-hide"),e._iframeLoaderMainLayer.addEventListener("transitionend",(()=>{e._iframeLoader.classList.remove("-show"),e._demoWrapper.style.opacity=0,e._demoWrapper.style.display="none",e._demoWrapper.classList.remove("-loaded"),e._iframeLoaderMainLayer.addEventListener("transitionend",(()=>{e._iframe.src="",e.element.dispatchEvent(e.events.projectHide),e._previousFocusedElement&&e._previousFocusedElement.focus()}),{once:!0})}),{once:!0})}}})),t.register("fSA2j",(function(n,i){e(n.exports,"default",(()=>a));var r=t("9xPB6");class a{#e='\n    <svg class="FollowingEye" viewBox="0 0 100 100" width="100%" height="100%">\n      <g class="FollowingEye-group">\n        <circle class="FollowingEye-outline" stroke-width="6" cx="50" cy="50" r="46"/>\n        <circle class="FollowingEye-inner" cx="76" cy="50" r="20"/>\n      </g>\n    </svg>\n  ';#t=null;#n=null;#i=null;#r=null;constructor(){this.element=(0,r.createElementFromString)(this.#e),this.#i=this.element.createSVGPoint(),this.#r=this.element.querySelector(".FollowingEye-group"),this.#a()}render(e,t="beforeend"){return e.insertAdjacentElement(t,this.element),this}update(){const{width:e,x:t,y:n}=this.#r.getBBox();return this.#t=t+e/2,this.#n=n+e/2,this}mouseMoveHandler(e){this.#o(this.#s(e))}resizeWindowHandler(){this.update()}#o({x:e,y:t}){const n=180*Math.atan2(t-this.#n,e-this.#t)/Math.PI+360;this.#r.style.transform=`rotate(${n}deg)`}#s(e){return this.#i.x=e.clientX,this.#i.y=e.clientY,this.#i.matrixTransform(this.element.getScreenCTM().inverse())}#a(){return this.mouseMoveHandler=this.mouseMoveHandler.bind(this),this.resizeWindowHandler=this.resizeWindowHandler.bind(this),window.addEventListener("mousemove",this.mouseMoveHandler),window.addEventListener("resize",(0,r.debounce)(this.resizeWindowHandler,500)),this}}}));
//# sourceMappingURL=HandleProjectsLoad.f70d4a1c.js.map
