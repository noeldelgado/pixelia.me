{"mappings":"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","sources":["src/public/js/lib/utils.js","src/public/js/lib/FollowingEye.js","src/public/js/lib/HandleProjectsLoad.js","src/public/js/index.js"],"sourcesContent":["const { floor, random } = Math;\n\nexport const $ = document.querySelector.bind(document);\n\nexport const $$ = document.querySelectorAll.bind(document);\n\nexport const randomInt = (min, max) => floor(random() * (max - min + 1)) + min;\n\n/* Copyright (c) 2011 David Walsh\n * http://davidwalsh.name/detect-scrollbar-width\n */\nexport const getScrollbarWidth = () => {\n    const e = document.createElement('div');\n    let scrollbarWidth = 0;\n\n    e.style.position = 'absolute';\n    e.style.top = '-9999px';\n    e.style.width = '100px';\n    e.style.height = '100px';\n    e.style.overflow = 'scroll';\n    e.style.msOverflowStyle = 'scrollbar';\n    document.body.appendChild(e);\n    scrollbarWidth = (e.offsetWidth - e.clientWidth);\n    document.body.removeChild(e);\n\n    return scrollbarWidth;\n}\n\n/**\n * Limit the amount of times a function is called.\n * @see https://medium.com/@TCAS3/debounce-deep-dive-javascript-es6-e6f8d983b7a1\n */\nexport const debounce = (fn, time) => {\n    let timeout = null;\n\n    return function debounceFn() {\n        const functionCall = () => fn.apply(this, arguments);\n\n        clearTimeout(timeout);\n        timeout = setTimeout(functionCall, time);\n    }\n}\n","const { log } = console;\nconst { atan2, PI } = Math;\n\nimport { debounce } from './utils';\n\n/**\n * Man logic taken from Blake Bowenâ€™s pen\n * https://codepen.io/osublake/pen/jzNgqY\n */\nexport default class FollowingEye {\n    constructor(config) {\n        log('ðŸ‘');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            el: null,\n            svg: null,\n            eye: null\n        }, config);\n\n        that.mouse = that.config.svg.createSVGPoint();\n        that.centerX = null;\n        that.centerY = null;\n\n        that._updateDynamics()._bindEvents();\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that._handleMouseMove = that._handleMouseMove.bind(that);\n        that.config.el.addEventListener('mousemove', that._handleMouseMove);\n\n        that._handleWindowResize = that._handleWindowResize.bind(that);\n        window.addEventListener('resize', debounce(that._handleWindowResize, 500));\n        return that;\n    }\n\n    _updateDynamics() {\n        const that = this;\n        const { width, x, y } = that.config.eye.getBBox();\n\n        that.centerX = x + (width / 2);\n        that.centerY = y + (width / 2);\n\n        return that;\n    }\n\n    _handleMouseMove(ev) {\n        const that = this;\n\n        that.mouse.x = ev.clientX;\n        that.mouse.y = ev.clientY;\n\n        const point = that.mouse.matrixTransform(that.config.svg.getScreenCTM().inverse());\n        const dx = point.x - that.centerX;\n        const dy = point.y - that.centerY;\n        const theta = atan2(dy, dx);\n        const angle = (theta * 180 / PI) + 360;\n\n        that.config.eye.style.transform = `rotate(${angle}deg)`;\n    }\n\n    _handleWindowResize() {\n        this._updateDynamics();\n    }\n}\n","const { log } = console;\n\nimport FollowingEye from './FollowingEye';\nimport { $ } from './utils';\n\nexport default class HandleProjectsLoad {\n    constructor(config) {\n        log('ðŸŽ¬');\n\n        const that = this;\n\n        Object.assign(that.config = {}, {\n            el: document.createElement('div'),\n            links: null\n        }, config);\n\n        if (!that.config.links) return;\n\n        that.events = {};\n        that.eyes = [];\n        that._isActive = false;\n        that._demoWrapper = $('.iframe-wrapper');\n        that._iframe = that._demoWrapper.querySelector('iframe');\n        that._demoCloseButton = $('.iframe-close-button');\n        that._iframeLoader = $('.iframe-loader');\n        that._iframeLoaderSecLayer = $('.iframe-loader > div:nth-child(1)');\n        that._iframeLoaderMainLayer = $('.iframe-loader > div:nth-child(2)');\n        that._iframeLoadingText = $('.iframe-loading-text');\n        that._iframeLoadingTextTitle = $('.iframe-loading-text .title');\n        that._iframeLoadingTextDescription = $('.iframe-loading-text .description');\n        that._previousFocusedElement = null;\n    }\n\n    get element() {\n        return this.config.el;\n    }\n\n    run() {\n        const that = this;\n\n        that._bindEvents();\n\n        return that;\n    }\n\n    _bindEvents() {\n        const that = this;\n\n        that.events.projectShow = new CustomEvent('projectShow');\n        that.events.projectHide = new CustomEvent('projectHide');\n\n        that.config.links.forEach(link => {\n            let svgEye = link.querySelector('svg > g.eye');\n\n            if (!svgEye) return;\n\n            that.eyes.push(new FollowingEye({\n                el: link,\n                svg: svgEye.parentElement,\n                eye: svgEye\n            }));\n        });\n\n        that._handleLinkClick = that._handleLinkClick.bind(that);\n        that._handleCloseIframe = that._handleCloseIframe.bind(that);\n        that._handleKeyUp = that._handleKeyUp.bind(that);\n\n        that.config.links.forEach(l => l.addEventListener('click', that._handleLinkClick));\n        that._demoCloseButton.addEventListener('click', that._handleCloseIframe);\n        document.addEventListener('keyup', that._handleKeyUp);\n\n        return that;\n    }\n\n    _handleLinkClick(ev) {\n        ev.preventDefault();\n\n        const that = this;\n        const target = ev.currentTarget;\n        const iframeUrl = target.href;\n        const projectName = target.dataset.title;\n        const projectDescription = target.dataset.description;\n\n        that.element.dispatchEvent(that.events.projectShow);\n        that._previousFocusedElement = document.activeElement;\n        that._iframeLoadingTextTitle.innerHTML = projectName;\n        that._iframeLoadingTextDescription.innerHTML = projectDescription;\n        that._iframeLoader.classList.add('-show');\n\n        that._demoCloseButton.focus();\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n            that._iframeLoadingText.style.opacity = 1;\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'block';\n            that._iframe.src = iframeUrl;\n\n            that._iframe.addEventListener('load', () => {\n                that._isActive = true;\n\n                that._iframeLoadingText.style.opacity = 0;\n                that._iframeLoader.classList.add('-hide');\n                that._demoWrapper.style.opacity = 1;\n\n                that._iframeLoaderSecLayer.addEventListener('transitionend', () => {\n                    that._demoWrapper.classList.add('-loaded');\n                }, { once: true });\n            }, { once: true });\n        }, { once: true });\n    }\n\n    _handleKeyUp(ev) {\n        const that = this;\n\n        ev = (ev || window.event);\n\n        if (that._isActive === false) {\n            return;\n        }\n\n        if (ev.keyCode == 27) {\n            that._handleCloseIframe();\n        }\n    }\n\n    _handleCloseIframe() {\n        const that = this;\n\n        that._isActive = false;\n        that._iframeLoader.classList.remove('-hide');\n\n        that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n            that._iframeLoader.classList.remove('-show');\n\n            that._demoWrapper.style.opacity = 0;\n            that._demoWrapper.style.display = 'none';\n            that._demoWrapper.classList.remove('-loaded');\n\n            that._iframeLoaderMainLayer.addEventListener('transitionend', () => {\n                that._iframe.src = '';\n                that.element.dispatchEvent(that.events.projectHide);\n\n                if (that._previousFocusedElement) {\n                    that._previousFocusedElement.focus();\n                }\n            }, { once: true });\n        }, { once: true });\n    }\n}\n","import { $, $$, getScrollbarWidth } from './lib/utils';\n// import BackgroundCanvas from './lib/BackgroundCanvas';\nimport HandleProjectsLoad from './lib/HandleProjectsLoad';\n\nconst internals = {};\n\ninternals.body = document.body;\ninternals.pageTopWave = $('.page-top-wave');\n\n// internals.backgroundCanvas = new BackgroundCanvas({\n//     totalPoints: 200,\n//     bgColor: getComputedStyle(document.body, null).getPropertyValue('background-color')\n// }).run();\n\ninternals.projectsHandler = new HandleProjectsLoad({\n    links: $$('.demos a:not([target=\"_blank\"]), .oss a:not([target=\"_blank\"])')\n}).run();\n\ninternals.lastKnownScrollPosition = 0;\ninternals.onScrollTicking = false;\ninternals.scrollHandler = () => {\n    internals.lastKnownScrollPosition = window.scrollY;\n\n    if (!internals.onScrollTicking) {\n        window.requestAnimationFrame(() => {\n            internals.handleScrollUpdate(internals.lastKnownScrollPosition);\n            internals.onScrollTicking = false;\n        });\n\n        internals.onScrollTicking = true;\n    }\n};\ninternals.handleScrollUpdate = (scrollPos) => {\n    if (scrollPos > 20) {\n        internals.pageTopWave.classList.add('-pause');\n    }\n    else {\n        internals.pageTopWave.classList.remove('-pause');\n    }\n};\n\ninternals.projectsHandler.element.addEventListener('projectShow', () => {\n    internals.body.classList.add('-prevent-scrolling');\n    internals.pageTopWave.classList.add('-pause');\n    // internals.backgroundCanvas.pause();\n});\n\ninternals.projectsHandler.element.addEventListener('projectHide', () => {\n    internals.body.classList.remove('-prevent-scrolling');\n    internals.pageTopWave.classList.remove('-pause');\n    // internals.backgroundCanvas.restart();\n});\n\nwindow.addEventListener('scroll', internals.scrollHandler);\n\ndocument.documentElement.style.setProperty('--scrollbar-width', `${getScrollbarWidth()}px`);\n"],"names":["floor","$6f2f38507b065d6f$var$floor","random","$6f2f38507b065d6f$var$random","Math","$6f2f38507b065d6f$export$3d8c2f653ac9d0b9","document","querySelector","bind","$6f2f38507b065d6f$export$fe324b23443c13e2","querySelectorAll","$6f2f38507b065d6f$export$61fc7d43ac8f84b0","fn","time","timeout","functionCall","apply","this","arguments","clearTimeout","setTimeout","log","$372fac47f8b94046$var$log","console","atan2","$372fac47f8b94046$var$atan2","PI","$372fac47f8b94046$var$PI","$372fac47f8b94046$export$2e2bcd8739ae039","constructor","config","that","Object","assign","el","svg","eye","mouse","createSVGPoint","centerX","centerY","_updateDynamics","_bindEvents","_handleMouseMove","addEventListener","_handleWindowResize","window","width","x","y","getBBox","ev","clientX","clientY","point","matrixTransform","getScreenCTM","inverse","dx","dy","angle","style","transform","$895e4461594157d4$var$log","$1742b3cbfa2ef3db$var$internals","body","pageTopWave","projectsHandler","createElement","links","events","eyes","_isActive","_demoWrapper","_iframe","_demoCloseButton","_iframeLoader","_iframeLoaderSecLayer","_iframeLoaderMainLayer","_iframeLoadingText","_iframeLoadingTextTitle","_iframeLoadingTextDescription","_previousFocusedElement","element","run","projectShow","CustomEvent","projectHide","forEach","link","svgEye","push","parentElement","_handleLinkClick","_handleCloseIframe","_handleKeyUp","l","preventDefault","target","currentTarget","iframeUrl","href","projectName","dataset","title","projectDescription","description","dispatchEvent","activeElement","innerHTML","classList","add","focus","opacity","display","src","once","event","keyCode","remove","lastKnownScrollPosition","onScrollTicking","scrollHandler","scrollY","requestAnimationFrame","handleScrollUpdate","scrollPos","documentElement","setProperty","e","scrollbarWidth","position","top","height","overflow","msOverflowStyle","appendChild","offsetWidth","clientWidth","removeChild"],"version":3,"file":"index.61ed869f.js.map"}